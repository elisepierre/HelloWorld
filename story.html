<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Récit d'Expérience - Hello World</title>
  
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800;900&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    :root {
      --isima-blue: #0d2c4d;
      --isima-yellow: #f3b749;
      --bg-color: #ffffff;
      --text-main: #2d3436;
      --text-sub: #636e72;
      --card-radius: 20px;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Roboto', sans-serif; background: var(--bg-color); color: var(--text-main); line-height: 1.8; }

    /* NAVBAR ÉPURÉE */
    .navbar {
      padding: 20px 40px; display: flex; justify-content: space-between; align-items: center; 
      position: fixed; width: 100%; top: 0; z-index: 1000; transition: 0.3s;
    }
    .navbar.scrolled { background: rgba(255,255,255,0.95); backdrop-filter: blur(10px); box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
    .navbar.scrolled .btn-back, .navbar.scrolled .brand { color: var(--isima-blue); }

    .btn-back { color: white; cursor: pointer; font-weight: 500; text-decoration: none; display: flex; align-items: center; gap: 8px; }
    .brand { color: white; font-weight: 900; letter-spacing: 2px; }

    /* HERO MAGAZINE STYLE */
    .story-hero {
      height: 60vh; background-size: cover; background-position: center;
      position: relative; display: flex; align-items: center; justify-content: center;
    }
    .hero-overlay {
      position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(13, 44, 77, 0.5); /* Overlay plus léger */
    }

    .hero-content { position: relative; z-index: 10; color: white; text-align: center; max-width: 800px; }
    .hero-content h1 { font-family: 'Montserrat'; font-size: 3.5rem; font-weight: 900; line-height: 1.1; margin-bottom: 10px; }
    .hero-content .student-name { font-size: 1.4rem; color: var(--isima-yellow); font-family: 'Montserrat'; text-transform: uppercase; letter-spacing: 3px; }

    /* LAYOUT EDITORIAL */
    .container { max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: 1fr 350px; gap: 60px; padding: 60px 20px; }

    /* TEXT CONTENT */
    .story-body h2 { font-family: 'Montserrat'; font-size: 1.8rem; margin: 40px 0 20px; color: var(--isima-blue); display: flex; align-items: center; gap: 15px; }
    .story-body h2 i { font-size: 1.2rem; color: var(--isima-yellow); }
    .story-body p { margin-bottom: 25px; font-size: 1.1rem; color: var(--text-main); font-weight: 400; }

    /* MINI GALERIE CLIQUEREUSE */
    .mini-gallery { display: flex; gap: 15px; margin: 30px 0; overflow-x: auto; padding-bottom: 10px; scrollbar-width: thin; }
    .gallery-item { 
      flex: 0 0 150px; height: 100px; border-radius: 12px; cursor: pointer; 
      overflow: hidden; border: 2px solid transparent; transition: 0.3s;
    }
    .gallery-item:hover { border-color: var(--isima-yellow); transform: translateY(-3px); }
    .gallery-item img { width: 100%; height: 100%; object-fit: cover; }

    /* LIGHTBOX (IMAGE PLEIN ÉCRAN AU CLIC) */
    #lightbox {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9);
      display: none; align-items: center; justify-content: center; z-index: 2000; cursor: pointer;
    }
    #lightbox img { max-width: 90%; max-height: 80%; border-radius: 10px; }

    /* SIDEBAR "FACTS" */
    .sidebar { position: sticky; top: 100px; height: fit-content; }
    .fact-card { background: #f9f9f9; padding: 30px; border-radius: var(--card-radius); }
    .fact-item { margin-bottom: 25px; }
    .fact-label { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 1px; color: var(--text-sub); font-weight: 700; margin-bottom: 5px; display: block; }
    .fact-value { font-size: 1rem; color: var(--isima-blue); font-weight: 600; }

    .contact-btn {
      display: flex; align-items: center; justify-content: center; gap: 10px;
      background: var(--isima-blue); color: white; padding: 15px; border-radius: 12px;
      margin-top: 20px; transition: 0.3s; font-weight: 600;
    }
    .contact-btn:hover { background: var(--isima-yellow); color: var(--isima-blue); }

    @media (max-width: 900px) {
      .container { grid-template-columns: 1fr; }
      .sidebar { position: static; }
      .hero-content h1 { font-size: 2.5rem; }
    }
  </style>
</head>
<body>

  <nav class="navbar" id="navbar">
    <div class="btn-back" onclick="goBack()"><i class="fas fa-arrow-left"></i> Retour</div>
    <div class="brand">HELLO WORLD</div>
    <div style="width: 50px;"></div>
  </nav>

  <header class="story-hero" id="h-bg">
    <div class="hero-overlay"></div>
    <div class="hero-content">
      <span class="student-name" id="s-name">Julie Martin</span>
      <h1 id="s-title">Software Engineering @ Ubisoft</h1>
    </div>
  </header>

  <div class="container">
    <article class="story-body">
      <h2><i class="fas fa-feather-alt"></i> L'expérience</h2>
      <p id="txt-intro"></p>

      <div class="mini-gallery" id="gallery">
        </div>

      <h2><i class="fas fa-passport"></i> Démarches & Visa</h2>
      <p id="txt-visa"></p>

      <h2><i class="fas fa-home"></i> Logement & Vie locale</h2>
      <p id="txt-logement"></p>

      <h2><i class="fas fa-lightbulb"></i> Conseils de survie</h2>
      <p id="txt-vie"></p>
    </article>

    <aside class="sidebar">
      <div class="fact-card">
        <div class="fact-item">
          <span class="fact-label">Période</span>
          <span class="fact-value" id="s-dates">...</span>
        </div>
        <div class="fact-item">
          <span class="fact-label">Budget Moyen</span>
          <span class="fact-value" id="s-budget">...</span>
        </div>
        <div class="fact-item">
          <span class="fact-label">Santé</span>
          <span class="fact-value" id="txt-sante">...</span>
        </div>
        <div class="fact-item">
          <span class="fact-label">Télécommunications</span>
          <span class="fact-value" id="txt-telecom">...</span>
        </div>

        <div id="contact-area"></div>
      </div>
    </aside>
  </div>

  <div id="lightbox" onclick="closeLightbox()">
    <img id="lightbox-img" src="">
  </div>

  <script>
    const storiesDB = {
      "temoignage-julie": {
        countryId: "canada",
        name: "Julie Martin",
        dates: "Sept. 2023 — Janv. 2024",
        title: "Software Engineering @ Ubisoft",
        cover: "https://images.unsplash.com/photo-1517935706615-2717063c2225?auto=format&fit=crop&w=1600&q=80",
        images: [
          "https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&w=800&q=80",
          "https://images.unsplash.com/photo-1568605117036-5fe5e7bab0b7?auto=format&fit=crop&w=800&q=80",
          "https://images.unsplash.com/photo-1503614472-8c93d56e92ce?auto=format&fit=crop&w=800&q=80",
          "https://images.unsplash.com/photo-1519178173668-2fc416dde9e7?auto=format&fit=crop&w=800&q=80"
        ],
        intro: "Partir à Montréal pour mon stage chez Ubisoft a été la meilleure décision de mon cursus. L'immersion dans une équipe de production AAA est intense mais incroyablement formatrice.",
        visa: "Permis de stage Coop obligatoire. Anticipez les délais EIC (3-4 mois).",
        logement: "Colocation recommandée sur le Plateau. Budget loyer élevé mais ambiance imbattable.",
        vie: "Vivre l'hiver québécois demande de bons vêtements, mais la ville souterraine et les festivals de lumière compensent largement le froid.",
        sante: "RAMQ via formulaire SE-401-Q-102.",
        telecom: "Forfaits Fizz ou Koodo (sans engagement).",
        budget: "1300€ / mois",
        linkedin: "https://linkedin.com"
      },
      "temoignage-thomas": {
        countryId: "canada",
        name: "Thomas Dubois",
        dates: "Août 2023 — Déc. 2023",
        title: "Échange Universitaire @ UQAC",
        cover: "https://images.unsplash.com/photo-1507728996651-789a691c7816?auto=format&fit=crop&w=1600&q=80",
        images: [
          "https://images.unsplash.com/photo-1526772662000-3f88f10405ff?auto=format&fit=crop&w=800&q=80",
          "https://images.unsplash.com/photo-1476514525535-07fb3b4ae5f1?auto=format&fit=crop&w=800&q=80",
          "https://images.unsplash.com/photo-1517059224940-d4af9eec41b7?auto=format&fit=crop&w=800&q=80"
        ],
        intro: "Chicoutimi offre une expérience nature unique. L'UQAC est une petite université très accueillante où la proximité avec les professeurs est réelle.",
        visa: "AVE suffisant pour un séjour de moins de 6 mois.",
        logement: "Résidences universitaires abordables et parfaites pour faire des rencontres.",
        vie: "Randonnées, kayak et aurores boréales. C'est l'endroit rêvé pour les amoureux de plein air.",
        sante: "Assurance université requise.",
        telecom: "Wi-Fi du campus performant.",
        budget: "950€ / mois",
        insta: "https://instagram.com"
      }
    };

    function loadStory() {
      const params = new URLSearchParams(window.location.search);
      const id = params.get('id');
      const data = storiesDB[id];
      if (!data) return;

      document.getElementById('h-bg').style.backgroundImage = `url('${data.cover}')`;
      document.getElementById('s-name').innerText = data.name;
      document.getElementById('s-title').innerText = data.title;
      document.getElementById('s-dates').innerText = data.dates;
      document.getElementById('s-budget').innerText = data.budget;
      document.getElementById('txt-intro').innerText = data.intro;
      document.getElementById('txt-visa').innerText = data.visa;
      document.getElementById('txt-logement').innerText = data.logement;
      document.getElementById('txt-vie').innerText = data.vie;
      document.getElementById('txt-sante').innerText = data.sante;
      document.getElementById('txt-telecom').innerText = data.telecom;

      // Galerie cliquable
      const gall = document.getElementById('gallery');
      data.images.forEach(imgUrl => {
        const div = document.createElement('div');
        div.className = 'gallery-item';
        div.onclick = () => openLightbox(imgUrl);
        div.innerHTML = `<img src="${imgUrl}">`;
        gall.appendChild(div);
      });

      // Contact
      const area = document.getElementById('contact-area');
      if(data.linkedin) area.innerHTML += `<a href="${data.linkedin}" target="_blank" class="contact-btn"><i class="fab fa-linkedin"></i> LinkedIn</a>`;
      if(data.insta) area.innerHTML += `<a href="${data.insta}" target="_blank" class="contact-btn"><i class="fab fa-instagram"></i> Instagram</a>`;
      
      window.countryBackId = data.countryId;
    }

    // LIGHTBOX FUNCTIONS
    function openLightbox(url) {
      document.getElementById('lightbox-img').src = url;
      document.getElementById('lightbox').style.display = 'flex';
    }
    function closeLightbox() { document.getElementById('lightbox').style.display = 'none'; }

    // NAVBAR SCROLL EFFECT
    window.onscroll = () => {
      const nav = document.getElementById('navbar');
      if (window.scrollY > 100) nav.classList.add('scrolled');
      else nav.classList.remove('scrolled');
    };

    function goBack() { window.location.href = `pays.html?id=${window.countryBackId || ''}`; }
    document.addEventListener('DOMContentLoaded', loadStory);
  </script>
</body>
</html>
